import { HttpClient } from '@angular/common/http';
import { Injectable } from '@angular/core';
import { RootWeather } from '@lib/components/models/weather';
import { of } from 'rxjs';
import { Observable } from 'rxjs/internal/Observable';

@Injectable({
    providedIn: 'root'
  })

  export class HttpWeatherService {
    myKey: string = '482944e26d320a80bd5e4f23b3de7d1f';
    dummyKey: Boolean = false;
  
    constructor(private http: HttpClient) { }
  
    getWeatherForecast(lat: number, lon: number): Observable<RootWeather> {
        var data = "{\"cod\":\"200\",\"message\":0,\"cnt\":40,\"list\":[{\"dt\":1718064000,\"main\":{\"temp\":297.09,\"feels_like\":296.53,\"temp_min\":297.09,\"temp_max\":301.65,\"pressure\":999,\"sea_level\":999,\"grnd_level\":995,\"humidity\":38,\"temp_kf\":-4.56},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":11},\"wind\":{\"speed\":0.42,\"deg\":71,\"gust\":0.37},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-11 00:00:00\"},{\"dt\":1718074800,\"main\":{\"temp\":300.5,\"feels_like\":299.92,\"temp_min\":300.5,\"temp_max\":307.32,\"pressure\":999,\"sea_level\":999,\"grnd_level\":993,\"humidity\":33,\"temp_kf\":-6.82},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":7},\"wind\":{\"speed\":1.54,\"deg\":231,\"gust\":2.01},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-11 03:00:00\"},{\"dt\":1718085600,\"main\":{\"temp\":307.14,\"feels_like\":305.41,\"temp_min\":307.14,\"temp_max\":312.17,\"pressure\":996,\"sea_level\":996,\"grnd_level\":990,\"humidity\":23,\"temp_kf\":-5.03},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":18},\"wind\":{\"speed\":2.37,\"deg\":210,\"gust\":3.3},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-11 06:00:00\"},{\"dt\":1718096400,\"main\":{\"temp\":311.94,\"feels_like\":309.57,\"temp_min\":311.94,\"temp_max\":311.94,\"pressure\":993,\"sea_level\":993,\"grnd_level\":989,\"humidity\":14,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":24},\"wind\":{\"speed\":7.9,\"deg\":230,\"gust\":7.14},\"visibility\":10000,\"pop\":0.2,\"rain\":{\"3h\":0.16},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-11 09:00:00\"},{\"dt\":1718107200,\"main\":{\"temp\":302.61,\"feels_like\":301.95,\"temp_min\":302.61,\"temp_max\":302.61,\"pressure\":997,\"sea_level\":997,\"grnd_level\":992,\"humidity\":37,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":62},\"wind\":{\"speed\":4.38,\"deg\":60,\"gust\":7.08},\"visibility\":10000,\"pop\":1,\"rain\":{\"3h\":1.45},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-11 12:00:00\"},{\"dt\":1718118000,\"main\":{\"temp\":302.25,\"feels_like\":301.86,\"temp_min\":302.25,\"temp_max\":302.25,\"pressure\":998,\"sea_level\":998,\"grnd_level\":993,\"humidity\":40,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":100},\"wind\":{\"speed\":1.71,\"deg\":312,\"gust\":3.49},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-11 15:00:00\"},{\"dt\":1718128800,\"main\":{\"temp\":300.72,\"feels_like\":300.64,\"temp_min\":300.72,\"temp_max\":300.72,\"pressure\":999,\"sea_level\":999,\"grnd_level\":994,\"humidity\":43,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":99},\"wind\":{\"speed\":1.02,\"deg\":77,\"gust\":2.02},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-11 18:00:00\"},{\"dt\":1718139600,\"main\":{\"temp\":298.64,\"feels_like\":298.58,\"temp_min\":298.64,\"temp_max\":298.64,\"pressure\":1000,\"sea_level\":1000,\"grnd_level\":995,\"humidity\":51,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":59},\"wind\":{\"speed\":2.09,\"deg\":22,\"gust\":3.51},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-11 21:00:00\"},{\"dt\":1718150400,\"main\":{\"temp\":301.6,\"feels_like\":301.22,\"temp_min\":301.6,\"temp_max\":301.6,\"pressure\":1000,\"sea_level\":1000,\"grnd_level\":995,\"humidity\":40,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03d\"}],\"clouds\":{\"all\":29},\"wind\":{\"speed\":2.57,\"deg\":17,\"gust\":2.74},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-12 00:00:00\"},{\"dt\":1718161200,\"main\":{\"temp\":307.54,\"feels_like\":306.29,\"temp_min\":307.54,\"temp_max\":307.54,\"pressure\":1000,\"sea_level\":1000,\"grnd_level\":995,\"humidity\":26,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":5},\"wind\":{\"speed\":2.2,\"deg\":27,\"gust\":1.92},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-12 03:00:00\"},{\"dt\":1718172000,\"main\":{\"temp\":311.79,\"feels_like\":310.19,\"temp_min\":311.79,\"temp_max\":311.79,\"pressure\":998,\"sea_level\":998,\"grnd_level\":993,\"humidity\":18,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":14},\"wind\":{\"speed\":1.02,\"deg\":99,\"gust\":1.05},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-12 06:00:00\"},{\"dt\":1718182800,\"main\":{\"temp\":312.67,\"feels_like\":311.06,\"temp_min\":312.67,\"temp_max\":312.67,\"pressure\":995,\"sea_level\":995,\"grnd_level\":991,\"humidity\":17,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03d\"}],\"clouds\":{\"all\":30},\"wind\":{\"speed\":2.36,\"deg\":178,\"gust\":2.09},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-12 09:00:00\"},{\"dt\":1718193600,\"main\":{\"temp\":309.14,\"feels_like\":307.81,\"temp_min\":309.14,\"temp_max\":309.14,\"pressure\":996,\"sea_level\":996,\"grnd_level\":991,\"humidity\":23,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02n\"}],\"clouds\":{\"all\":16},\"wind\":{\"speed\":4.98,\"deg\":154,\"gust\":9.38},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-12 12:00:00\"},{\"dt\":1718204400,\"main\":{\"temp\":303.97,\"feels_like\":303.7,\"temp_min\":303.97,\"temp_max\":303.97,\"pressure\":999,\"sea_level\":999,\"grnd_level\":995,\"humidity\":39,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":41},\"wind\":{\"speed\":2.16,\"deg\":12,\"gust\":1.3},\"visibility\":10000,\"pop\":0.79,\"rain\":{\"3h\":0.5},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-12 15:00:00\"},{\"dt\":1718215200,\"main\":{\"temp\":302.24,\"feels_like\":302.04,\"temp_min\":302.24,\"temp_max\":302.24,\"pressure\":998,\"sea_level\":998,\"grnd_level\":993,\"humidity\":42,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":71},\"wind\":{\"speed\":3.02,\"deg\":37,\"gust\":5.19},\"visibility\":10000,\"pop\":0.45,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-12 18:00:00\"},{\"dt\":1718226000,\"main\":{\"temp\":300.95,\"feels_like\":301.06,\"temp_min\":300.95,\"temp_max\":300.95,\"pressure\":998,\"sea_level\":998,\"grnd_level\":993,\"humidity\":46,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":77},\"wind\":{\"speed\":1.8,\"deg\":74,\"gust\":2.18},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-12 21:00:00\"},{\"dt\":1718236800,\"main\":{\"temp\":302.11,\"feels_like\":302.2,\"temp_min\":302.11,\"temp_max\":302.11,\"pressure\":998,\"sea_level\":998,\"grnd_level\":993,\"humidity\":45,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":76},\"wind\":{\"speed\":2.35,\"deg\":71,\"gust\":2.3},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-13 00:00:00\"},{\"dt\":1718247600,\"main\":{\"temp\":308.22,\"feels_like\":307.52,\"temp_min\":308.22,\"temp_max\":308.22,\"pressure\":996,\"sea_level\":996,\"grnd_level\":992,\"humidity\":28,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":51},\"wind\":{\"speed\":1.3,\"deg\":180,\"gust\":2.86},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-13 03:00:00\"},{\"dt\":1718258400,\"main\":{\"temp\":311.99,\"feels_like\":311.18,\"temp_min\":311.99,\"temp_max\":311.99,\"pressure\":993,\"sea_level\":993,\"grnd_level\":988,\"humidity\":21,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":55},\"wind\":{\"speed\":2.18,\"deg\":330,\"gust\":2.77},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-13 06:00:00\"},{\"dt\":1718269200,\"main\":{\"temp\":306.48,\"feels_like\":305.14,\"temp_min\":306.48,\"temp_max\":306.48,\"pressure\":994,\"sea_level\":994,\"grnd_level\":989,\"humidity\":27,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":69},\"wind\":{\"speed\":6.03,\"deg\":274,\"gust\":10.23},\"visibility\":10000,\"pop\":0.72,\"rain\":{\"3h\":0.51},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-13 09:00:00\"},{\"dt\":1718280000,\"main\":{\"temp\":304.19,\"feels_like\":303.23,\"temp_min\":304.19,\"temp_max\":304.19,\"pressure\":996,\"sea_level\":996,\"grnd_level\":991,\"humidity\":33,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":87},\"wind\":{\"speed\":5.26,\"deg\":1,\"gust\":11.96},\"visibility\":10000,\"pop\":0.54,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-13 12:00:00\"},{\"dt\":1718290800,\"main\":{\"temp\":301.54,\"feels_like\":301.49,\"temp_min\":301.54,\"temp_max\":301.54,\"pressure\":1000,\"sea_level\":1000,\"grnd_level\":995,\"humidity\":44,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":70},\"wind\":{\"speed\":3.37,\"deg\":37,\"gust\":8.9},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-13 15:00:00\"},{\"dt\":1718301600,\"main\":{\"temp\":300.3,\"feels_like\":300.02,\"temp_min\":300.3,\"temp_max\":300.3,\"pressure\":1001,\"sea_level\":1001,\"grnd_level\":996,\"humidity\":38,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":33},\"wind\":{\"speed\":1.39,\"deg\":10,\"gust\":1.98},\"visibility\":10000,\"pop\":0.2,\"rain\":{\"3h\":0.31},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-13 18:00:00\"},{\"dt\":1718312400,\"main\":{\"temp\":299.23,\"feels_like\":299.23,\"temp_min\":299.23,\"temp_max\":299.23,\"pressure\":1000,\"sea_level\":1000,\"grnd_level\":996,\"humidity\":43,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":11},\"wind\":{\"speed\":1.81,\"deg\":6,\"gust\":3.33},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-13 21:00:00\"},{\"dt\":1718323200,\"main\":{\"temp\":302.22,\"feels_like\":300.83,\"temp_min\":302.22,\"temp_max\":302.22,\"pressure\":1002,\"sea_level\":1002,\"grnd_level\":997,\"humidity\":25,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":20},\"wind\":{\"speed\":2.62,\"deg\":353,\"gust\":5.11},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-14 00:00:00\"},{\"dt\":1718334000,\"main\":{\"temp\":307.09,\"feels_like\":304.66,\"temp_min\":307.09,\"temp_max\":307.09,\"pressure\":1001,\"sea_level\":1001,\"grnd_level\":996,\"humidity\":14,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":82},\"wind\":{\"speed\":3.32,\"deg\":2,\"gust\":6.46},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-14 03:00:00\"},{\"dt\":1718344800,\"main\":{\"temp\":309.32,\"feels_like\":306.73,\"temp_min\":309.32,\"temp_max\":309.32,\"pressure\":999,\"sea_level\":999,\"grnd_level\":994,\"humidity\":13,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03d\"}],\"clouds\":{\"all\":46},\"wind\":{\"speed\":3.32,\"deg\":318,\"gust\":6.01},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-14 06:00:00\"},{\"dt\":1718355600,\"main\":{\"temp\":309.52,\"feels_like\":306.84,\"temp_min\":309.52,\"temp_max\":309.52,\"pressure\":998,\"sea_level\":998,\"grnd_level\":993,\"humidity\":12,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03d\"}],\"clouds\":{\"all\":36},\"wind\":{\"speed\":4.62,\"deg\":310,\"gust\":6.26},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-14 09:00:00\"},{\"dt\":1718366400,\"main\":{\"temp\":306.28,\"feels_like\":303.92,\"temp_min\":306.28,\"temp_max\":306.28,\"pressure\":1000,\"sea_level\":1000,\"grnd_level\":996,\"humidity\":14,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03n\"}],\"clouds\":{\"all\":30},\"wind\":{\"speed\":5.79,\"deg\":352,\"gust\":9.32},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-14 12:00:00\"},{\"dt\":1718377200,\"main\":{\"temp\":302.92,\"feels_like\":301.2,\"temp_min\":302.92,\"temp_max\":302.92,\"pressure\":1004,\"sea_level\":1004,\"grnd_level\":999,\"humidity\":20,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02n\"}],\"clouds\":{\"all\":11},\"wind\":{\"speed\":3.86,\"deg\":24,\"gust\":7.97},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-14 15:00:00\"},{\"dt\":1718388000,\"main\":{\"temp\":300.24,\"feels_like\":299.41,\"temp_min\":300.24,\"temp_max\":300.24,\"pressure\":1004,\"sea_level\":1004,\"grnd_level\":1000,\"humidity\":24,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01n\"}],\"clouds\":{\"all\":5},\"wind\":{\"speed\":3.1,\"deg\":25,\"gust\":6.46},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-14 18:00:00\"},{\"dt\":1718398800,\"main\":{\"temp\":298.65,\"feels_like\":297.96,\"temp_min\":298.65,\"temp_max\":298.65,\"pressure\":1005,\"sea_level\":1005,\"grnd_level\":1000,\"humidity\":27,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":2},\"wind\":{\"speed\":2.03,\"deg\":26,\"gust\":3.27},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-14 21:00:00\"},{\"dt\":1718409600,\"main\":{\"temp\":300.38,\"feels_like\":299.53,\"temp_min\":300.38,\"temp_max\":300.38,\"pressure\":1005,\"sea_level\":1005,\"grnd_level\":1001,\"humidity\":25,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":3},\"wind\":{\"speed\":2.31,\"deg\":25,\"gust\":2.62},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-15 00:00:00\"},{\"dt\":1718420400,\"main\":{\"temp\":305.34,\"feels_like\":303.17,\"temp_min\":305.34,\"temp_max\":305.34,\"pressure\":1004,\"sea_level\":1004,\"grnd_level\":1000,\"humidity\":17,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":1.41,\"deg\":6,\"gust\":2.91},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-15 03:00:00\"},{\"dt\":1718431200,\"main\":{\"temp\":305.09,\"feels_like\":303.13,\"temp_min\":305.09,\"temp_max\":305.09,\"pressure\":1002,\"sea_level\":1002,\"grnd_level\":997,\"humidity\":21,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":7},\"wind\":{\"speed\":2.35,\"deg\":32,\"gust\":5.31},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-15 06:00:00\"},{\"dt\":1718442000,\"main\":{\"temp\":300.42,\"feels_like\":299.91,\"temp_min\":300.42,\"temp_max\":300.42,\"pressure\":1003,\"sea_level\":1003,\"grnd_level\":998,\"humidity\":34,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10d\"}],\"clouds\":{\"all\":100},\"wind\":{\"speed\":5.77,\"deg\":99,\"gust\":7.23},\"visibility\":10000,\"pop\":0.43,\"rain\":{\"3h\":0.31},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-15 09:00:00\"},{\"dt\":1718452800,\"main\":{\"temp\":299.79,\"feels_like\":299.79,\"temp_min\":299.79,\"temp_max\":299.79,\"pressure\":1004,\"sea_level\":1004,\"grnd_level\":999,\"humidity\":37,\"temp_kf\":0},\"weather\":[{\"id\":500,\"main\":\"Rain\",\"description\":\"light rain\",\"icon\":\"10n\"}],\"clouds\":{\"all\":81},\"wind\":{\"speed\":3.62,\"deg\":158,\"gust\":5.51},\"visibility\":10000,\"pop\":0.41,\"rain\":{\"3h\":0.3},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-15 12:00:00\"},{\"dt\":1718463600,\"main\":{\"temp\":297.88,\"feels_like\":297.56,\"temp_min\":297.88,\"temp_max\":297.88,\"pressure\":1005,\"sea_level\":1005,\"grnd_level\":1000,\"humidity\":44,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03n\"}],\"clouds\":{\"all\":38},\"wind\":{\"speed\":2.54,\"deg\":104,\"gust\":3.3},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-15 15:00:00\"},{\"dt\":1718474400,\"main\":{\"temp\":296.35,\"feels_like\":296.06,\"temp_min\":296.35,\"temp_max\":296.35,\"pressure\":1005,\"sea_level\":1005,\"grnd_level\":1000,\"humidity\":51,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03n\"}],\"clouds\":{\"all\":28},\"wind\":{\"speed\":1.61,\"deg\":90,\"gust\":1.36},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2024-06-15 18:00:00\"},{\"dt\":1718485200,\"main\":{\"temp\":295.69,\"feels_like\":295.36,\"temp_min\":295.69,\"temp_max\":295.69,\"pressure\":1005,\"sea_level\":1005,\"grnd_level\":1000,\"humidity\":52,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03d\"}],\"clouds\":{\"all\":27},\"wind\":{\"speed\":1.6,\"deg\":55,\"gust\":1.66},\"visibility\":10000,\"pop\":0,\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2024-06-15 21:00:00\"}],\"city\":{\"id\":1816670,\"name\":\"Beijing\",\"coord\":{\"lat\":39.9075,\"lon\":116.3972},\"country\":\"CN\",\"population\":1000000,\"timezone\":28800,\"sunrise\":1718052332,\"sunset\":1718106167}}";;
        var dummyData = JSON.parse(data);
        if(this.dummyKey){
           return of(dummyData);
        }else{
            return this.http.get<RootWeather>(
                'https://api.openweathermap.org/data/2.5/forecast?appid='+ this.myKey +'&lat=' + lat +'&lon=' + lon
              );
        }

        
    }
  }